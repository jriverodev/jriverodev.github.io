<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitnessNow T√≠a Juana</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#f39200">
    <style>
        :root { --orange: #f39200; --dark: #000000; --gray: #1a1a1a; --text: #ffffff; }
        body { font-family: 'Segoe UI', Roboto, sans-serif; background: var(--dark); color: var(--text); margin: 0; padding: 10px; }
        .brand { text-align: center; padding: 20px; }
        .brand img { max-width: 150px; height: auto; border-radius: 10px; }
        .card { background: var(--gray); padding: 15px; border-radius: 15px; margin-bottom: 20px; border: 1px solid #333; }
        h3 { color: var(--orange); margin-top: 0; font-size: 1rem; text-transform: uppercase; letter-spacing: 1px; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .full { grid-column: span 2; }
        label { display: block; font-size: 0.75rem; color: #888; margin-bottom: 4px; }
        input { width: 100%; padding: 12px; box-sizing: border-box; background: #000; border: 1px solid #444; color: #fff; border-radius: 8px; font-size: 1rem; }
        button { background: var(--orange); color: #000; border: none; padding: 15px; border-radius: 10px; width: 100%; font-weight: 800; cursor: pointer; text-transform: uppercase; }
        .timer { font-size: 2.5rem; text-align: center; color: var(--orange); font-family: monospace; margin: 15px 0; }
        #ruffier-box { margin-top: 15px; padding: 12px; border-radius: 8px; text-align: center; font-weight: bold; display: none; }
    </style>
</head>
<body>

<div class="brand">
    <img src="logo.png" alt="FitnessNow Logo">
</div>

<div class="card">
    <h3>üë§ Perfil Atleta</h3>
    <div class="grid">
        <div class="full"><label>Nombre</label><input type="text" id="nombre"></div>
        <div><label>Edad</label><input type="number" id="edad"></div>
        <div><label>Estatura</label><input type="number" id="estatura" placeholder="cm"></div>
    </div>
</div>

<div class="card">
    <h3>üìè Medidas (CM)</h3>
    <div class="grid">
        <div><label>Peso (kg)</label><input type="number" id="peso"></div>
        <div><label>Cuello</label><input type="number" id="cuello"></div>
        <div><label>Pecho</label><input type="number" id="pecho"></div>
        <div><label>Cintura</label><input type="number" id="cintura"></div>
        <div><label>Cadera</label><input type="number" id="cadera"></div>
        <div><label>Pierna Der/Izq</label><input type="number" id="pierna"></div>
        <div><label>Brazo Der</label><input type="number" id="brazo_d"></div>
        <div><label>Brazo Izq</label><input type="number" id="brazo_i"></div>
    </div>
</div>

<div class="card">
    <h3>‚ù§Ô∏è Test de Ruffier</h3>
    <div class="grid">
        <div><label>P1 (Reposo)</label><input type="number" id="p1"></div>
        <div><label>P2 (Esfuerzo)</label><input type="number" id="p2"></div>
        <div class="full"><label>P3 (Recuperaci√≥n)</label><input type="number" id="p3"></div>
    </div>
    <button onclick="calcRuffier()" style="margin-top:10px">Calcular √çndice</button>
    <div id="ruffier-box"></div>
</div>

<div class="card">
    <h3>‚ö° Workout Test</h3>
    <div class="timer" id="clock">00:00</div>
    <div class="grid">
        <button onclick="runTimer(30)" style="background:#333; color:white">30 seg</button>
        <button onclick="runTimer(60)" style="background:#333; color:white">1 min</button>
        <div><label>30" ABS</label><input type="number" id="abs"></div>
        <div><label>1' Burpees</label><input type="number" id="burpees"></div>
        <div><label>30" Push-ups</label><input type="number" id="pushups"></div>
        <div><label>1' Jump Jacks</label><input type="number" id="jacks"></div>
    </div>
    <button onclick="saveData()" style="margin-top:20px; background:#fff">Guardar Registro</button>
</div>

<script>
    function calcRuffier() {
        const p1 = parseFloat(document.getElementById('p1').value);
        const p2 = parseFloat(document.getElementById('p2').value);
        const p3 = parseFloat(document.getElementById('p3').value);
        if(p1 && p2 && p3) {
            const ir = ((p1 + p2 + p3) * 4 - 200) / 10;
            const box = document.getElementById('ruffier-box');
            box.style.display = 'block';
            box.innerHTML = `√çndice Ruffier: ${ir.toFixed(1)}`;
            box.style.background = ir <= 5 ? '#2ecc71' : (ir <= 10 ? '#f1c40f' : '#e74c3c');
            box.style.color = ir <= 5 || ir > 10 ? 'white' : 'black';
        }
    }

    let countdown;
    function runTimer(sec) {
        clearInterval(countdown);
        let t = sec;
        const display = document.getElementById('clock');
        countdown = setInterval(() => {
            let m = Math.floor(t / 60);
            let s = t % 60;
            display.innerText = `${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
            if (t-- <= 0) {
                clearInterval(countdown);
                navigator.vibrate([200, 100, 200]);
                alert("¬°Tiempo completado!");
            }
        }, 1000);
    }

    function saveData() {
        alert("¬°Datos guardados en tu dispositivo!");
    }

    if ('serviceWorker' in navigator) { navigator.serviceWorker.register('sw.js'); }
</script>
</body>
</html>
